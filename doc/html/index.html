<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Chapter&#160;1.&#160;Boost.Contract 1.0</title>
<link rel="stylesheet" href="../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="index.html" title="Chapter&#160;1.&#160;Boost.Contract 1.0">
<link rel="next" href="boost_contract/getting_started.html" title="Getting Started">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../..//boost.png"></td>
<td align="center"><a href="../..//index.html">Home</a></td>
<td align="center"><a href="../..//libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../..//more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav"><a accesskey="n" href="boost_contract/getting_started.html"><img src="../..//doc/src/images/next.png" alt="Next"></a></div>
<div class="chapter">
<div class="titlepage"><div>
<div><h2 class="title">
<a name="boost_contract"></a>Chapter&#160;1.&#160;Boost.Contract 1.0</h2></div>
<div><div class="author"><h3 class="author">
<span class="firstname">Lorenzo</span> <span class="surname">Caminiti <code class="email">&lt;<a class="email" href="mailto:lorcaminiti@gmail.com">lorcaminiti@gmail.com</a>&gt;</code></span>
</h3></div></div>
<div><p class="copyright">Copyright &#169; 2008-2016 Lorenzo
      Caminiti</p></div>
<div><div class="legalnotice">
<a name="boost_contract.legal"></a><p>
        Distributed under the Boost Software License, Version 1.0 (see accompanying
        file LICENSE_1_0.txt or a copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></div>
</div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl class="toc">
<dt><span class="section"><a href="index.html#boost_contract.introduction">Introduction</a></span></dt>
<dt><span class="section"><a href="boost_contract/getting_started.html">Getting Started</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="boost_contract/getting_started.html#boost_contract.getting_started.this_documentation">This
      Documentation</a></span></dt>
<dt><span class="section"><a href="boost_contract/getting_started.html#boost_contract.getting_started.compilers_and_platforms">Compilers
      and Platforms</a></span></dt>
<dt><span class="section"><a href="boost_contract/getting_started.html#boost_contract.getting_started.code_organization">Code
      Organization</a></span></dt>
<dt><span class="section"><a href="boost_contract/getting_started.html#boost_contract.getting_started.installation_and_compilation">Installation
      and Compilation</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="boost_contract/contract_programming_overview.html">Contract
    Programming Overview</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="boost_contract/contract_programming_overview.html#boost_contract.contract_programming_overview.assertions">Assertions</a></span></dt>
<dt><span class="section"><a href="boost_contract/contract_programming_overview.html#boost_contract.contract_programming_overview.benefits_and_costs">Benefits
      and Costs</a></span></dt>
<dt><span class="section"><a href="boost_contract/contract_programming_overview.html#boost_contract.contract_programming_overview.function_calls">Function
      Calls</a></span></dt>
<dt><span class="section"><a href="boost_contract/contract_programming_overview.html#boost_contract.contract_programming_overview.public_function_calls">Public
      Function Calls</a></span></dt>
<dt><span class="section"><a href="boost_contract/contract_programming_overview.html#boost_contract.contract_programming_overview.constructor_calls">Constructor
      Calls</a></span></dt>
<dt><span class="section"><a href="boost_contract/contract_programming_overview.html#boost_contract.contract_programming_overview.destructor_calls">Destructor
      Calls</a></span></dt>
<dt><span class="section"><a href="boost_contract/contract_programming_overview.html#boost_contract.contract_programming_overview.constant_correctness">Constant-Correctness</a></span></dt>
<dt><span class="section"><a href="boost_contract/contract_programming_overview.html#boost_contract.contract_programming_overview.specification_and_implementation">Specification
      and Implementation</a></span></dt>
<dt><span class="section"><a href="boost_contract/contract_programming_overview.html#boost_contract.contract_programming_overview.on_contract_failure">On
      Contract Failure</a></span></dt>
<dt><span class="section"><a href="boost_contract/contract_programming_overview.html#boost_contract.contract_programming_overview.features">Features</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="boost_contract/tutorial.html">Tutorial</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.non_member_functions">Non-Member
      Functions</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.preconditions">Preconditions</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.postconditions">Postconditions</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.return_value">Return Value</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.old_values">Old Values</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.class_invariants">Class Invariants</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.constructors">Constructors</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.destructors">Destructors</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.public_functions">Public Functions</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.virtual_public_functions">Virtual
      Public Functions</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.public_function_overrides__subcontracting_">Public
      Function Overrides (Subcontracting)</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.base_classes__subcontracting_">Base
      Classes (Subcontracting)</a></span></dt>
<dt><span class="section"><a href="boost_contract/tutorial.html#boost_contract.tutorial.static_public_functions">Static
      Public Functions</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="boost_contract/advanced_topics.html">Advanced Topics</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.optional_return_value">Optional
      Return Value</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.pure_virtual_public_functions">Pure
      Virtual Public Functions</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.private_and_protected_functions">Private
      and Protected Functions</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.overloaded_functions">Overloaded
      Functions</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.named_overrides">Named
      Overrides</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.move_operations">Move
      Operations</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.unions">Unions</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.volatile_class_invariants">Volatile
      Class Invariants</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.old_values_at_body">Old
      Values at Body</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.old_value_requirements">Old
      Value Requirements</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.assertion_requirements__static_if_">Assertion
      Requirements (Static-If)</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.access_specifiers">Access
      Specifiers</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.separate_body_implementation">Separate
      Body Implementation</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.throw_on_failure">Throw
      on Failure</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.disable_contract_checking">Disable
      Contract Checking</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.disable_contract_compilation">Disable
      Contract Compilation</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.no_macros__no_c__11_">No
      Macros (No C++11)</a></span></dt>
<dt><span class="section"><a href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.no_lambda_functions__no_c__11_">No
      Lambda Functions (No C++11)</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="reference.html">Reference</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="reference.html#header.boost.contract_hpp">Header &lt;boost/contract.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.assert_hpp">Header &lt;boost/contract/assert.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.base_types_hpp">Header &lt;boost/contract/base_types.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.call_if_hpp">Header &lt;boost/contract/call_if.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.constructor_hpp">Header &lt;boost/contract/constructor.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.core.access_hpp">Header &lt;boost/contract/core/access.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.core.config_hpp">Header &lt;boost/contract/core/config.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.core.specify_hpp">Header &lt;boost/contract/core/specify.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.core.virtual_hpp">Header &lt;boost/contract/core/virtual.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.destructor_hpp">Header &lt;boost/contract/destructor.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.function_hpp">Header &lt;boost/contract/function.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.guard_hpp">Header &lt;boost/contract/guard.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.old_hpp">Header &lt;boost/contract/old.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.override_hpp">Header &lt;boost/contract/override.hpp&gt;</a></span></dt>
<dt><span class="section"><a href="reference.html#header.boost.contract.public_function_hpp">Header &lt;boost/contract/public_function.hpp&gt;</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="boost_contract/examples.html">Examples</a></span></dt>
<dt><span class="section"><a href="boost_contract/release_notes.html">Release Notes</a></span></dt>
<dt><span class="section"><a href="boost_contract/bibliography.html">Bibliography</a></span></dt>
<dt><span class="section"><a href="boost_contract/acknowledgments.html">Acknowledgments</a></span></dt>
</dl>
</div>
<div class="blockquote"><blockquote class="blockquote"><p>
      <span class="emphasis"><em><span class="quote">&#8220;<span class="quote">Our field needs more formality, but the profession has not
      realized it yet.</span>&#8221;</span></em></span>
    </p></blockquote></div>
<div class="blockquote"><blockquote class="blockquote"><p>
      <span class="emphasis"><em>-- Bertrand Meyer (see <a class="link" href="boost_contract/bibliography.html#Meyer97_anchor">[Meyer97]</a>
      page 400)</em></span>
    </p></blockquote></div>
<p>
    This library implements <a href="http://en.wikipedia.org/wiki/Design_by_contract" target="_top">Contract
    Programming</a> (a.k.a., Design by Contract or DbC) <a href="#ftn.boost_contract.f0" class="footnote" name="boost_contract.f0"><sup class="footnote">[1]</sup></a> for the C++ programming language. All Contract Programming features
    are supported by this library: subcontracting, class invariants, postconditions
    (with old and return values), preconditions, customizable actions on assertion
    failure (terminate, throw, etc.), optional compilation of assertion checking,
    disable assertion checking while already checking other assertions (to avoid
    infinite recursion), etc.
  </p>
<p>
    Hosted at: <a href="https://github.com/lcaminiti/boost-contract" target="_top">https://github.com/lcaminiti/boost-contract</a>
  </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../doc/src/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
      In one of its previous revisions, this library passed Boost formal reviews
      and it was accepted into the Boost libraries (see <a href="https://groups.google.com/forum/?fromgroups=#!topic/boost-list/jQ7OjAmos_Y" target="_top">https://groups.google.com/forum/?fromgroups=#!topic/boost-list/jQ7OjAmos_Y</a>).
      However, the authors have not had time yet to push this library into an official
      Boost release.
    </p></td></tr>
</table></div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="boost_contract.introduction"></a><a class="link" href="index.html#boost_contract.introduction" title="Introduction">Introduction</a>
</h2></div></div></div>
<p>
      Contract Programming allows to specify preconditions, postconditions, and class
      invariants that are automatically checked when functions are executed at run-time.
      These conditions assert program specifications within the source code itself
      allowing to find bugs more quickly during testing, making the code self-documenting,
      and increasing overall software quality.
    </p>
<p>
      The following example shows how to use this library to program contracts for
      a member function similar to <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">::</span><span class="identifier">push_back</span></code>
      (the somewhat arbitrary <code class="computeroutput"><span class="identifier">pushable</span></code>
      base class is introduced here just to illustrate subcontracting, see <a href="../../example/features/introduction.cpp" target="_top"><code class="literal">introduction.cpp</code></a>):
      <a href="#ftn.boost_contract.introduction.f0" class="footnote" name="boost_contract.introduction.f0"><sup class="footnote">[2]</sup></a>
    </p>
<p>
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">contract</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">vector</span><span class="special">&gt;</span>

<span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">T</span><span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">pushable</span><span class="special">;</span> <span class="comment">// Arbitrary base to demo subcontracting.</span>

<span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">T</span><span class="special">&gt;</span>
<span class="keyword">class</span> <span class="identifier">vector</span>
    <span class="preprocessor">#define</span> <span class="identifier">BASES</span> <span class="keyword">public</span> <span class="identifier">pushable</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span>
    <span class="special">:</span> <span class="identifier">BASES</span>
<span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
    <span class="keyword">typedef</span> <span class="identifier">BOOST_CONTRACT_BASE_TYPES</span><span class="special">(</span><span class="identifier">BASES</span><span class="special">)</span> <span class="identifier">base_types</span><span class="special">;</span> <span class="comment">// For subcontracting.</span>
    <span class="preprocessor">#undef</span> <span class="identifier">BASES</span>

    <span class="keyword">void</span> <span class="identifier">invariant</span><span class="special">()</span> <span class="keyword">const</span> <span class="special">{</span> <span class="comment">// Checked in AND with base class invariants.</span>
        <span class="identifier">BOOST_CONTRACT_ASSERT</span><span class="special">(</span><span class="identifier">size</span><span class="special">()</span> <span class="special">&lt;=</span> <span class="identifier">capacity</span><span class="special">());</span> <span class="comment">// Line 25.</span>
    <span class="special">}</span>

    <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="identifier">push_back</span><span class="special">(</span><span class="identifier">T</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">value</span><span class="special">,</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">contract</span><span class="special">::</span><span class="identifier">virtual_</span><span class="special">*</span> <span class="identifier">v</span> <span class="special">=</span> <span class="number">0</span><span class="special">)</span>
            <span class="comment">/* override */</span> <span class="special">{</span>
        <span class="identifier">boost</span><span class="special">::</span><span class="identifier">contract</span><span class="special">::</span><span class="identifier">old_ptr</span><span class="special">&lt;</span><span class="keyword">unsigned</span><span class="special">&gt;</span> <span class="identifier">old_size</span> <span class="special">=</span>
                <span class="identifier">BOOST_CONTRACT_OLDOF</span><span class="special">(</span><span class="identifier">v</span><span class="special">,</span> <span class="identifier">size</span><span class="special">());</span> <span class="comment">// Old values.</span>
        <span class="identifier">boost</span><span class="special">::</span><span class="identifier">contract</span><span class="special">::</span><span class="identifier">guard</span> <span class="identifier">c</span> <span class="special">=</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">contract</span><span class="special">::</span><span class="identifier">public_function</span><span class="special">&lt;</span>
                <span class="identifier">override_push_back</span><span class="special">&gt;(</span><span class="identifier">v</span><span class="special">,</span> <span class="special">&amp;</span><span class="identifier">vector</span><span class="special">::</span><span class="identifier">push_back</span><span class="special">,</span> <span class="keyword">this</span><span class="special">,</span> <span class="identifier">value</span><span class="special">)</span>
            <span class="special">.</span><span class="identifier">precondition</span><span class="special">([&amp;]</span> <span class="special">{</span> <span class="comment">// Checked in OR with base preconditions.</span>
                <span class="identifier">BOOST_CONTRACT_ASSERT</span><span class="special">(</span><span class="identifier">size</span><span class="special">()</span> <span class="special">&lt;</span> <span class="identifier">max_size</span><span class="special">());</span> <span class="comment">// Line 35.</span>
            <span class="special">})</span>
            <span class="special">.</span><span class="identifier">postcondition</span><span class="special">([&amp;]</span> <span class="special">{</span> <span class="comment">// Checked in AND with base postconditions.</span>
                <span class="identifier">BOOST_CONTRACT_ASSERT</span><span class="special">(</span><span class="identifier">size</span><span class="special">()</span> <span class="special">==</span> <span class="special">*</span><span class="identifier">old_size</span> <span class="special">+</span> <span class="number">1</span><span class="special">);</span> <span class="comment">// Line 38.</span>
            <span class="special">})</span>
        <span class="special">;</span>

        <span class="identifier">vect_</span><span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span><span class="identifier">value</span><span class="special">);</span> <span class="comment">// Function body.</span>
    <span class="special">}</span>
    <span class="identifier">BOOST_CONTRACT_OVERRIDE</span><span class="special">(</span><span class="identifier">push_back</span><span class="special">)</span> <span class="comment">// For `override_push_back`.</span>

    <span class="comment">// Could program contracts for those as well.</span>
    <span class="keyword">unsigned</span> <span class="identifier">size</span><span class="special">()</span> <span class="keyword">const</span> <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">vect_</span><span class="special">.</span><span class="identifier">size</span><span class="special">();</span> <span class="special">}</span>
    <span class="keyword">unsigned</span> <span class="identifier">max_size</span><span class="special">()</span> <span class="keyword">const</span> <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">vect_</span><span class="special">.</span><span class="identifier">max_size</span><span class="special">();</span> <span class="special">}</span>
    <span class="keyword">unsigned</span> <span class="identifier">capacity</span><span class="special">()</span> <span class="keyword">const</span> <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">vect_</span><span class="special">.</span><span class="identifier">capacity</span><span class="special">();</span> <span class="special">}</span>

<span class="keyword">private</span><span class="special">:</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">vect_</span><span class="special">;</span>
<span class="special">};</span>
</pre>
<p>
    </p>
<p>
      This library executes the following steps when the <code class="computeroutput"><span class="identifier">vector</span><span class="special">::</span><span class="identifier">push_back</span></code>
      function above is called at run-time (see <a class="link" href="boost_contract/contract_programming_overview.html" title="Contract Programming Overview">Contract
      Programming Overview</a>):
    </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
          First, the class invariants and the function preconditions are checked.
        </li>
<li class="listitem">
          Then, the function body following the contract declaration is executed.
        </li>
<li class="listitem">
          Last, the class invariants and the function postconditions are checked.
        </li>
<li class="listitem">
          When subcontracting (like in the example above), this library will automatically
          check derived and base preconditions in <a class="link" href="boost_contract/contract_programming_overview.html#or_anchor"><code class="literal"><span class="emphasis"><em>OR</em></span></code></a>,
          derived and base postconditions in <a class="link" href="boost_contract/contract_programming_overview.html#and_anchor"><code class="literal"><span class="emphasis"><em>AND</em></span></code></a>,
          derived and base class invariants in <a class="link" href="boost_contract/contract_programming_overview.html#and_anchor"><code class="literal"><span class="emphasis"><em>AND</em></span></code></a>.
        </li>
</ul></div>
<p>
      For example, if there is a bug in the function caller for which <code class="computeroutput"><span class="identifier">push_back</span></code> is called when <code class="computeroutput"><span class="identifier">size</span></code>
      is equal to <code class="computeroutput"><span class="identifier">max_size</span></code> then the
      execution of the program will terminate with an error message similar to the
      following (so it will be evident that the bug is in the caller):
    </p>
<pre class="programlisting">precondition assertion "size() &lt; max_size()" failed: file "introduction.cpp", line 35
</pre>
<p>
      Instead, if there is a bug in the <code class="computeroutput"><span class="identifier">push_back</span></code>
      implementation for which <code class="computeroutput"><span class="identifier">size</span></code>
      is not increased by <code class="computeroutput"><span class="number">1</span></code> after <code class="computeroutput"><span class="identifier">value</span></code> is added to <code class="computeroutput"><span class="identifier">vector</span></code>
      by the function body then the execution will terminate with an error message
      similar to the following (so it will be evident that the bug is in the <code class="computeroutput"><span class="identifier">push_back</span></code> body):
    </p>
<pre class="programlisting">postcondition assertion "size() == *old_size + 1" failed: file "introduction.cpp", line 38
</pre>
<p>
      Similarly, if there is a bug in the <code class="computeroutput"><span class="identifier">push_back</span></code>
      implementation for which <code class="computeroutput"><span class="identifier">size</span></code>
      is not kept greater or equal than <code class="computeroutput"><span class="identifier">capacity</span></code>
      then the execution will terminate with an error message similar to the following:
    </p>
<pre class="programlisting">exit invariant assertion "size() &lt;= capacity()" failed: file "introduction.cpp", line 25
</pre>
<p>
      Finally, if the class invariant check failed on entering the <code class="computeroutput"><span class="identifier">push_back</span></code> function call, before executing
      the <code class="computeroutput"><span class="identifier">push_back</span></code> implementation,
      then the execution will terminate with an error message similar to the following:
    </p>
<pre class="programlisting">entry invariant assertion "size() &lt;= capacity()" failed: file "introduction.cpp", line 25
</pre>
<p>
      By default, when an assertion fails this library prints an error message to
      the standard error <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">cerr</span></code> and terminates the program calling
      <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">terminate</span></code> (this behaviour can be customized
      to take any user-defined action including throwing exceptions, see the <a class="link" href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.throw_on_failure" title="Throw on Failure">Throw on Failure</a>
      section). Note that the error message printed by this library contains information
      to easily and uniquely identify the point in the program at which the assertion
      failed. <a href="#ftn.boost_contract.introduction.f1" class="footnote" name="boost_contract.introduction.f1"><sup class="footnote">[3]</sup></a>
    </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../doc/src/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
        C++11 lambda functions are necessary to use this library without having to
        manually program a significant amount of boiler-plate code (but see the
        <a class="link" href="boost_contract/advanced_topics.html#boost_contract.advanced_topics.no_lambda_functions__no_c__11_" title="No Lambda Functions (No C++11)">No
        Lambda Functions</a> section). All other C++11 features (like <code class="computeroutput"><span class="keyword">auto</span></code> declarations) are not really necessary
        even if they are sometimes used in this documentation for convenience.
      </p></td></tr>
</table></div>
</div>
<div class="footnotes">
<br><hr style="width:100; text-align:left;margin-left: 0">
<div id="ftn.boost_contract.f0" class="footnote"><p><a href="#boost_contract.f0" class="para"><sup class="para">[1] </sup></a>
      Design by Contract (DbC) is a registered trademark of <a href="http://en.wikipedia.org/wiki/Eiffel_Software" target="_top">Eiffel
      Software</a> and it was first introduced by the Eiffel programming language
      (see <a class="link" href="boost_contract/bibliography.html#Meyer97_anchor">[Meyer97]</a>).
    </p></div>
<div id="ftn.boost_contract.introduction.f0" class="footnote"><p><a href="#boost_contract.introduction.f0" class="para"><sup class="para">[2] </sup></a>
        For simplicity, the full contracts of the <code class="computeroutput"><span class="identifier">vector</span></code>
        class are not programmed here (see the <a class="link" href="boost_contract/examples.html" title="Examples">Examples</a>
        section for a much more comprehensive version of <code class="computeroutput"><span class="identifier">vector</span></code>'s
        contracts).
      </p></div>
<div id="ftn.boost_contract.introduction.f1" class="footnote"><p><a href="#boost_contract.introduction.f1" class="para"><sup class="para">[3] </sup></a>
        <span class="bold"><strong>Rationale:</strong></span> The assertion failure messages
        generated by this library follows a format similar to the messages printed
        by Clang when the C-style <code class="computeroutput"><span class="identifier">assert</span></code>
        macro fails.
      </p></div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"><p><small>Last revised: June 15, 2016 at 15:18:56 GMT</small></p></td>
<td align="right"><div class="copyright-footer"></div></td>
</tr></table>
<hr>
<div class="spirit-nav"><a accesskey="n" href="boost_contract/getting_started.html"><img src="../..//doc/src/images/next.png" alt="Next"></a></div>
</body>
</html>
