<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Class template specify_old_postcondition</title>
<link rel="stylesheet" href="../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="../../index.html" title="Chapter&#160;1.&#160;Boost.Contract 1.0">
<link rel="up" href="../../reference.html#header.boost.contract.core.specify_hpp" title="Header &lt;boost/contract/core/specify.hpp&gt;">
<link rel="prev" href="specify_nothing.html" title="Class specify_nothing">
<link rel="next" href="specify_postcondition_only.html" title="Class template specify_postcondition_only">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../..//boost.png"></td>
<td align="center"><a href="../../../..//index.html">Home</a></td>
<td align="center"><a href="../../../..//libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../..//more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="specify_nothing.html"><img src="../../../..//doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../reference.html#header.boost.contract.core.specify_hpp"><img src="../../../..//doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../..//doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="specify_postcondition_only.html"><img src="../../../..//doc/src/images/next.png" alt="Next"></a>
</div>
<div class="refentry">
<a name="boost.contract.specify_old_postcondition"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class template specify_old_postcondition</span></h2>
<p>boost::contract::specify_old_postcondition &#8212; Allow to specify old value assignments and postconditions. </p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis"><span class="comment">// In header: &lt;<a class="link" href="../../reference.html#header.boost.contract.core.specify_hpp" title="Header &lt;boost/contract/core/specify.hpp&gt;">boost/contract/core/specify.hpp</a>&gt;

</span><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> VirtualResult <span class="special">=</span> <span class="keyword">void</span><span class="special">&gt;</span> 
<span class="keyword">class</span> <a class="link" href="specify_old_postcondition.html" title="Class template specify_old_postcondition">specify_old_postcondition</a> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// <a class="link" href="specify_old_postcondition.html#boost.contract.specify_old_postconditionconstruct-copy-destruct">construct/copy/destruct</a></span>
  <a class="link" href="specify_old_postcondition.html#id439109-bb"><span class="special">~</span><span class="identifier">specify_old_postcondition</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="specify_old_postcondition.html#id438986-bb">public member functions</a></span>
  <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> F<span class="special">&gt;</span> 
    <a class="link" href="specify_postcondition_only.html" title="Class template specify_postcondition_only">specify_postcondition_only</a><span class="special">&lt;</span> <span class="identifier">VirtualResult</span> <span class="special">&gt;</span> <a class="link" href="specify_old_postcondition.html#id438990-bb"><span class="identifier">old</span></a><span class="special">(</span><span class="identifier">F</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> F<span class="special">&gt;</span> <a class="link" href="specify_nothing.html" title="Class specify_nothing">specify_nothing</a> <a class="link" href="specify_old_postcondition.html#id439043-bb"><span class="identifier">postcondition</span></a><span class="special">(</span><span class="identifier">F</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
<span class="special">}</span><span class="special">;</span></pre></div>
<div class="refsect1">
<a name="id919490"></a><h2>Description</h2>
<p>Allow to program functors this library will call to assign old values before body execution and to check postconditions. </p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p> <a class="link" href="../../boost_contract/tutorial.html" title="Tutorial"> Tutorial</a> </p>
<p>

</p>
<div class="refsect2">
<a name="id919510"></a><h3>Template Parameters</h3>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<pre class="literallayout"><span class="keyword">typename</span> VirtualResult <span class="special">=</span> <span class="keyword">void</span></pre>
<p>Return type of the contracted function if that is either a virtual or an overriding public function, otherwise this is always <code class="computeroutput">void</code>. </p>
</li></ol></div>
</div>
<div class="refsect2">
<a name="id919544"></a><h3>
<a name="boost.contract.specify_old_postconditionconstruct-copy-destruct"></a><code class="computeroutput">specify_old_postcondition</code> 
        public
       construct/copy/destruct</h3>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<pre class="literallayout"><a name="id439109-bb"></a><span class="special">~</span><span class="identifier">specify_old_postcondition</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>Destruct this object. <p><span class="bold"><strong>Throws:</strong></span> This can throw (i.e., <code class="computeroutput">noexcept(false)</code>) in case programmers specify failure handlers that throw exceptions instead of terminating the program (see  <code class="computeroutput"><code class="computeroutput">boost::contract::set_precondition_failure</code></code>, etc.). </p>
</li></ol></div>
</div>
<div class="refsect2">
<a name="id919606"></a><h3>
<a name="id438986-bb"></a><code class="computeroutput">specify_old_postcondition</code> public member functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> F<span class="special">&gt;</span> 
  <a class="link" href="specify_postcondition_only.html" title="Class template specify_postcondition_only">specify_postcondition_only</a><span class="special">&lt;</span> <span class="identifier">VirtualResult</span> <span class="special">&gt;</span> <a name="id438990-bb"></a><span class="identifier">old</span><span class="special">(</span><span class="identifier">F</span> <span class="keyword">const</span> <span class="special">&amp;</span> f<span class="special">)</span><span class="special">;</span></pre>Allow to specify old value assignments to execute just before the function body. <p>In most cases, it should be sufficient to initialize old value pointers as soon as they are declared so it should not be necessary to use this function (see <a class="link" href="../../boost_contract/advanced_topics.html" title="Advanced Topics"> Advanced Topics</a>). 

</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term">Parameters:</span></p></td>
<td><div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><code class="computeroutput">f</code></span></p></td>
<td><p>Functor called by this library to assign old values <code class="computeroutput">f()</code>. This functor is called just before the function body is executed, but after precondition and class invariants are checked (when they are specified). Old value pointers within this functor call are usually assigned using <code class="computeroutput"><code class="computeroutput"><a class="link" href="../../BOOST_CONTRACT_OLDOF.html" title="Macro BOOST_CONTRACT_OLDOF">BOOST_CONTRACT_OLDOF</a></code></code>. Any exception thrown by a call to this functor is handled as a postcondition failure (and will result in this library calling  <code class="computeroutput"><code class="computeroutput">boost::contract::postcondition_failure</code></code> because old values are ultimately used to assert postconditions). This functor must be a nullary functor. This functor should capture old value pointers by references so they can be assigned (all other variables needed to evaluate old value expressions can be captured by (constant) value, or better by (constant) reference to avoid extra copies). </p></td>
</tr></tbody>
</table></div></td>
</tr>
<tr>
<td><p><span class="term">Returns:</span></p></td>
<td><p>After old value assignments have been specified, return object that allows to optionally specify postconditions. </p></td>
</tr>
</tbody>
</table></div>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> F<span class="special">&gt;</span> <a class="link" href="specify_nothing.html" title="Class specify_nothing">specify_nothing</a> <a name="id439043-bb"></a><span class="identifier">postcondition</span><span class="special">(</span><span class="identifier">F</span> <span class="keyword">const</span> <span class="special">&amp;</span> f<span class="special">)</span><span class="special">;</span></pre>Allow to specify postconditions. <p>

</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term">Parameters:</span></p></td>
<td><div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><code class="computeroutput">f</code></span></p></td>
<td><p>Functor called by this library to check postconditions <code class="computeroutput">f()</code>. Postcondition assertions within this functor call are usually programmed using <code class="computeroutput"><code class="computeroutput"><a class="link" href="../../BOOST_CONTRACT_ASSERT.html" title="Macro BOOST_CONTRACT_ASSERT">BOOST_CONTRACT_ASSERT</a></code></code>, but any exception thrown by a call to this functor indicates a postcondition failure (and will result in this library calling  <code class="computeroutput"><code class="computeroutput">boost::contract::postcondition_failure</code></code>). This functor must be a nullary functor if <code class="computeroutput">VirtualResult</code> is <code class="computeroutput">void</code>, otherwise it must be a unary functor taking the return value as a parameter of type <code class="computeroutput">VirtualResult const&amp;</code> (to avoid extra copies, or <code class="computeroutput">VirtualResult</code> and also <code class="computeroutput">VirtualResult const</code> if extra copies of the return value are irrelevant). This functor should capture variables by (constant) references (to access the values they will have at function exit). </p></td>
</tr></tbody>
</table></div></td>
</tr>
<tr>
<td><p><span class="term">Returns:</span></p></td>
<td><p>After postconditions have been specified, return object that does not allow to specify any additional contract. </p></td>
</tr>
</tbody>
</table></div>
</li>
</ol></div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2008-2016 Lorenzo
      Caminiti<p>
        Distributed under the Boost Software License, Version 1.0 (see accompanying
        file LICENSE_1_0.txt or a copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="specify_nothing.html"><img src="../../../..//doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../reference.html#header.boost.contract.core.specify_hpp"><img src="../../../..//doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../..//doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="specify_postcondition_only.html"><img src="../../../..//doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
